---
/**
 * Blog Post Card Component
 * Displays a preview card for a blog post
 */
interface Props {
    url: string;
    title: string;
    description?: string;
    image?: {
        url: string;
        alt?: string;
    };
    date?: string | Date;
}

const { url, title, description, image, date } = Astro.props;

const formattedDate = date
    ? new Date(date).toLocaleDateString("en-US", {
          year: "numeric",
          month: "short",
          day: "numeric",
      })
    : null;
---

<article class="blog-card">
    <a href={url} class="blog-card__link">
        {
            image && (
                <div class="blog-card__image">
                    <img
                        src={image.url}
                        alt={image.alt || title}
                        loading="lazy"
                        decoding="async"
                    />
                </div>
            )
        }
        <div class="blog-card__content">
            <h3 class="blog-card__title">{title}</h3>
            {description && <p class="blog-card__description">{description}</p>}
            {
                formattedDate && (
                    <time
                        class="blog-card__date"
                        datetime={new Date(date!).toISOString()}
                    >
                        {formattedDate}
                    </time>
                )
            }
        </div>
    </a>
</article>

<style>
    .blog-card {
        background-color: white;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 2px 4px rgb(0 0 0 / 0.1);
        transition:
            transform 0.2s ease,
            box-shadow 0.2s ease;
    }

    .blog-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgb(0 0 0 / 0.15);
    }

    .blog-card__link {
        display: block;
        text-decoration: none;
        color: inherit;
    }

    .blog-card__image {
        aspect-ratio: 16 / 9;
        overflow: hidden;
    }

    .blog-card__image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .blog-card:hover .blog-card__image img {
        transform: scale(1.05);
    }

    .blog-card__content {
        padding: 1rem;
    }

    .blog-card__title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #1e1e1e;
        margin-bottom: 0.5rem;
        line-height: 1.3;
    }

    .blog-card__description {
        font-size: 0.875rem;
        color: #666;
        line-height: 1.5;
        margin-bottom: 0.5rem;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .blog-card__date {
        font-size: 0.75rem;
        color: #999;
    }
</style>
